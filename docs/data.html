<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data | EDAV Final Project (Group 9)</title>
  <meta name="description" content="Chapter 3 Data | EDAV Final Project (Group 9)" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data | EDAV Final Project (Group 9)" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data | EDAV Final Project (Group 9)" />
  
  
  

<meta name="author" content="Cong Chen, Taichen Zhou, Yichen Huang" />


<meta name="date" content="2022-12-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="proposal.html"/>
<link rel="next" href="results.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0.9001/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EDAV Final Project V1</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="proposal.html"><a href="proposal.html"><i class="fa fa-check"></i><b>2</b> Proposal</a>
<ul>
<li class="chapter" data-level="2.1" data-path="proposal.html"><a href="proposal.html#research-topic"><i class="fa fa-check"></i><b>2.1</b> Research topic</a></li>
<li class="chapter" data-level="2.2" data-path="proposal.html"><a href="proposal.html#data-availability"><i class="fa fa-check"></i><b>2.2</b> Data availability</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="proposal.html"><a href="proposal.html#tuberculosistb-notification-and-outcome-dataset"><i class="fa fa-check"></i><b>2.2.1</b> Tuberculosis(TB) notification and outcome dataset</a></li>
<li class="chapter" data-level="2.2.2" data-path="proposal.html"><a href="proposal.html#vaccination-dataset"><i class="fa fa-check"></i><b>2.2.2</b> Vaccination dataset</a></li>
<li class="chapter" data-level="2.2.3" data-path="proposal.html"><a href="proposal.html#population-dataset"><i class="fa fa-check"></i><b>2.2.3</b> Population dataset</a></li>
<li class="chapter" data-level="2.2.4" data-path="proposal.html"><a href="proposal.html#number-of-new-hiv-infections"><i class="fa fa-check"></i><b>2.2.4</b> Number of new HIV infections</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#sources"><i class="fa fa-check"></i><b>3.1</b> Sources</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data.html"><a href="data.html#tuberculosistb-notification-and-outcome-dataset-1"><i class="fa fa-check"></i><b>3.1.1</b> Tuberculosis(TB) notification and outcome dataset</a></li>
<li class="chapter" data-level="3.1.2" data-path="data.html"><a href="data.html#vaccination-dataset-1"><i class="fa fa-check"></i><b>3.1.2</b> Vaccination dataset</a></li>
<li class="chapter" data-level="3.1.3" data-path="data.html"><a href="data.html#population-dataset-1"><i class="fa fa-check"></i><b>3.1.3</b> Population dataset</a></li>
<li class="chapter" data-level="3.1.4" data-path="data.html"><a href="data.html#number-of-new-hiv-infections-1"><i class="fa fa-check"></i><b>3.1.4</b> Number of new HIV infections</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#cleaning-transformation"><i class="fa fa-check"></i><b>3.2</b> Cleaning / Transformation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data.html"><a href="data.html#import-library"><i class="fa fa-check"></i><b>3.2.1</b> Import Library</a></li>
<li class="chapter" data-level="3.2.2" data-path="data.html"><a href="data.html#tb-notification-and-outcome-dataset"><i class="fa fa-check"></i><b>3.2.2</b> TB Notification and Outcome Dataset</a></li>
<li class="chapter" data-level="3.2.3" data-path="data.html"><a href="data.html#vaccination-dataset-2"><i class="fa fa-check"></i><b>3.2.3</b> Vaccination Dataset</a></li>
<li class="chapter" data-level="3.2.4" data-path="data.html"><a href="data.html#population"><i class="fa fa-check"></i><b>3.2.4</b> Population</a></li>
<li class="chapter" data-level="3.2.5" data-path="data.html"><a href="data.html#hiv-infections"><i class="fa fa-check"></i><b>3.2.5</b> HIV Infections</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#missing-patttern"><i class="fa fa-check"></i><b>3.3</b> Missing Patttern</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data.html"><a href="data.html#tb-notification-and-outcome-dataset-1"><i class="fa fa-check"></i><b>3.3.1</b> TB Notification and Outcome Dataset</a></li>
<li class="chapter" data-level="3.3.2" data-path="data.html"><a href="data.html#vaccination-dataset-3"><i class="fa fa-check"></i><b>3.3.2</b> Vaccination Dataset</a></li>
<li class="chapter" data-level="3.3.3" data-path="data.html"><a href="data.html#population-1"><i class="fa fa-check"></i><b>3.3.3</b> Population</a></li>
<li class="chapter" data-level="3.3.4" data-path="data.html"><a href="data.html#hiv-infections-1"><i class="fa fa-check"></i><b>3.3.4</b> HIV infections</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#missing-value-analysis"><i class="fa fa-check"></i><b>3.4</b> Missing Value Analysis</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>4</b> Results</a>
<ul>
<li class="chapter" data-level="4.1" data-path="results.html"><a href="results.html#import-library-and-dataset"><i class="fa fa-check"></i><b>4.1</b> Import Library and Dataset</a></li>
<li class="chapter" data-level="4.2" data-path="results.html"><a href="results.html#merge-vaccine-data-with-tb-data"><i class="fa fa-check"></i><b>4.2</b> Merge Vaccine Data with TB Data</a></li>
<li class="chapter" data-level="4.3" data-path="results.html"><a href="results.html#tb-positive-cases-from-1980---2021"><i class="fa fa-check"></i><b>4.3</b> TB Positive Cases From 1980 - 2021</a></li>
<li class="chapter" data-level="4.4" data-path="results.html"><a href="results.html#tb-cases-by-continents-from-1992-2019"><i class="fa fa-check"></i><b>4.4</b> TB Cases by Continents From 1992-2019</a></li>
<li class="chapter" data-level="4.5" data-path="results.html"><a href="results.html#infection-rate-by-continent"><i class="fa fa-check"></i><b>4.5</b> Infection Rate by Continent</a></li>
<li class="chapter" data-level="4.6" data-path="results.html"><a href="results.html#age-and-gender-plots"><i class="fa fa-check"></i><b>4.6</b> Age and Gender Plots</a></li>
<li class="chapter" data-level="4.7" data-path="results.html"><a href="results.html#tb-incident-among-hiv-and-non-hiv-patients"><i class="fa fa-check"></i><b>4.7</b> TB Incident Among HIV and Non-HIV Patients</a></li>
<li class="chapter" data-level="4.8" data-path="results.html"><a href="results.html#map-graph-for-tb-infection-rate"><i class="fa fa-check"></i><b>4.8</b> Map graph for TB Infection Rate</a></li>
<li class="chapter" data-level="4.9" data-path="results.html"><a href="results.html#vaccination-and-tb-cases-by-continent"><i class="fa fa-check"></i><b>4.9</b> Vaccination and TB Cases by Continent</a></li>
<li class="chapter" data-level="4.10" data-path="results.html"><a href="results.html#vaccination-rate-by-continent"><i class="fa fa-check"></i><b>4.10</b> Vaccination Rate by Continent</a></li>
<li class="chapter" data-level="4.11" data-path="results.html"><a href="results.html#map-for-vaccination-rate"><i class="fa fa-check"></i><b>4.11</b> Map for vaccination rate</a></li>
<li class="chapter" data-level="4.12" data-path="results.html"><a href="results.html#tree-plot"><i class="fa fa-check"></i><b>4.12</b> Tree plot</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="interative.html"><a href="interative.html"><i class="fa fa-check"></i><b>5</b> Interative</a></li>
<li class="chapter" data-level="6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>6</b> Conclusion</a>
<ul>
<li class="chapter" data-level="6.1" data-path="conclusion.html"><a href="conclusion.html#exploration"><i class="fa fa-check"></i><b>6.1</b> Exploration</a></li>
<li class="chapter" data-level="6.2" data-path="conclusion.html"><a href="conclusion.html#limitation"><i class="fa fa-check"></i><b>6.2</b> limitation</a></li>
<li class="chapter" data-level="6.3" data-path="conclusion.html"><a href="conclusion.html#future-direction"><i class="fa fa-check"></i><b>6.3</b> Future Direction</a></li>
<li class="chapter" data-level="6.4" data-path="conclusion.html"><a href="conclusion.html#reflection"><i class="fa fa-check"></i><b>6.4</b> Reflection</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EDAV Final Project (Group 9)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data<a href="data.html#data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="sources" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Sources<a href="data.html#sources" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="tuberculosistb-notification-and-outcome-dataset-1" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Tuberculosis(TB) notification and outcome dataset<a href="data.html#tuberculosistb-notification-and-outcome-dataset-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The source of the dataset is the global tuberculosis report published by World Health Organization(WHO). The dataset provided by countries to WHO and estimates of TB burden generated by WHO for the Global Tuberculosis Report.[Global Tuberculosis Report] (<a href="https://www.who.int/teams/global-tuberculosis-programme/data" class="uri">https://www.who.int/teams/global-tuberculosis-programme/data</a>)</li>
<li>The column explanation(dictionary) is also contained in the link above. The data dictionary file will cover variable names with corresponding definitions. For the categorical variables, the dictionary will also provide the encoding method and meaning of the code.</li>
<li>Countries provide the data to WHO and we are not sure how exactly those countries collected the data. We conjecture that the data are collected from every hospital by national public health agencies like the Centers for Disease Control and Prevention in the United States. Because the dataset contains the TB data from 1980 to 2021, the collection method may also vary.</li>
<li>The TB dataset is in CSV(comma-separated value). We can apply read.csv() in R to import the CSV file to the R data frame.</li>
<li>The TB dataset contains the annual data for the period of 41 years, so we assume that the frequency of updates is once per year. The TB dataset is composed of 198 features of TB data from 217 countries from 1980 to 2021, although there are huge amounts of missing data which will be handled in future analysis.</li>
<li>The TB dataset contains 595 variables including the budget, community engagement, contacts preventive treatment, estimates, outcomes, etc.</li>
<li>There are lots of missing data, dealing with missing value is impoertant in this dataset.</li>
<li>According to the topics we are interested in, we cannot analyze all variables. There are several potentially related features can be drawn from the dataset.
<ul>
<li>c_newinc (Total of new and relapse cases and cases with unknown previous TB treatment history)</li>
<li>age_group (in years)</li>
<li>e_inc_tbhiv_num (Estimated incidence of TB cases who are HIV-Positive)</li>
<li>Etc.</li>
</ul></li>
</ul>
</div>
<div id="vaccination-dataset-1" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Vaccination dataset<a href="data.html#vaccination-dataset-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The source is from the United Nations International Children’s Emergency Fund(UNICEF) which is an agency of the United Nations responsible for providing humanitarian and developmental aid to children worldwide. The UNICEF data will cover the situation of children and women worldwide. [Immunization Data] (<a href="https://data.unicef.org/resources/dataset/immunization/" class="uri">https://data.unicef.org/resources/dataset/immunization/</a>)</li>
<li>According to the UNICEF data and analytics introduction, UNICEF’s Data Team is responsible for the collection, validation, analysis, use, and communication of the most statistically sound. The team upholds the quality, integrity, and organization of these data. [UNICEF Data] (<a href="https://data.unicef.org/about-us/" class="uri">https://data.unicef.org/about-us/</a>)</li>
<li>The collected data is in Microsoft Excel Spreadsheet format(.xlsx). The data set is updated annually for 168 countries worldwide from 1980 - 2021.</li>
<li>Same as the CSV file, the .xlsx file can be imported to R and converted to the data frame by the readxl package.</li>
<li>The structure of the dataset is clear; the spreadsheet covers the BCG vaccination rate for 168 countries in the world in past 41 years. The dataset is not perfect, there exists some missing data for some countries in the period of time. It may cause some problems for our future analysis.</li>
<li>The number of countries recorded in the spreadsheet from UNICEF is less than the number of countries covered in the WHO dataset. Therefore, during the analysis of the TB and BCG vaccines, some countries will be ignored.</li>
</ul>
</div>
<div id="population-dataset-1" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Population dataset<a href="data.html#population-dataset-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The source is from the World Bank(WB) which is an international financial institution that provides loans and grants to the government of low- and middle income countries for the purpose of pursing capital projects. <a href="https://data.worldbank.org/indicator/SP.POP.TOTL?end=1989&amp;start=1960">Population Data</a></li>
<li>The data set is covered all 266 countries in the world and the year covered is from 1980 to 2021.</li>
<li>The variables are mostly discrete expect for some categorical variables indicate each country.</li>
</ul>
</div>
<div id="number-of-new-hiv-infections-1" class="section level3 hasAnchor" number="3.1.4">
<h3><span class="header-section-number">3.1.4</span> Number of new HIV infections<a href="data.html#number-of-new-hiv-infections-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The source is from Institute for Health Metrics and Evaluation, Global Burden of Disease(2019). <a href="http://ghdx.healthdata.org/gbd-results-tool">HIV Infection Data</a></li>
<li>The data set collects data from WHO member countries and time span for the data set is 1990-2019.</li>
<li>There are 266 countries in total, and the variables we focused on are all discrete integer.</li>
</ul>
</div>
</div>
<div id="cleaning-transformation" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Cleaning / Transformation<a href="data.html#cleaning-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="import-library" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Import Library<a href="data.html#import-library" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-2"><a href="data.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="data.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(redav)</span>
<span id="cb1-4"><a href="data.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mi)</span>
<span id="cb1-5"><a href="data.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
</div>
<div id="tb-notification-and-outcome-dataset" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> TB Notification and Outcome Dataset<a href="data.html#tb-notification-and-outcome-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="import-data-and-select-target-columns" class="section level4 hasAnchor" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Import Data and Select Target Columns<a href="data.html#import-data-and-select-target-columns" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data.html#cb2-1" aria-hidden="true" tabindex="-1"></a>tb <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Datasets/raw/TB_notifications_2022-10-28.csv&quot;</span>)</span>
<span id="cb2-2"><a href="data.html#cb2-2" aria-hidden="true" tabindex="-1"></a>tb_cleaning <span class="ot">&lt;-</span> <span class="fu">select</span>(tb, country, iso3, year, new_sp, new_labconf, c_newinc, newrel_hivtest, newrel_hivpos, hivtest, hivtest_pos, new_sp_m014, new_sp_m1524, new_sp_m2534, new_sp_m3544, new_sp_m4554, new_sp_m5564, new_sp_m65, newrel_m014, newrel_m1524, newrel_m2534, newrel_m3544, newrel_m4554, newrel_m5564, newrel_m65, new_sp_f014, new_sp_f1524, new_sp_f2534, new_sp_f3544, new_sp_f4554, new_sp_f5564, new_sp_f65, newrel_f014, newrel_f1524, newrel_f2534, newrel_f3544, newrel_f4554, newrel_f5564, newrel_f65)</span></code></pre></div>
</div>
<div id="merge-data-for-same-age-group" class="section level4 hasAnchor" number="3.2.2.2">
<h4><span class="header-section-number">3.2.2.2</span> Merge Data for Same Age Group<a href="data.html#merge-data-for-same-age-group" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data.html#cb3-1" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1 <span class="ot">&lt;-</span> tb_cleaning</span>
<span id="cb3-2"><a href="data.html#cb3-2" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_m014 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_m014, tb_cleaning<span class="sc">$</span>newrel_m014)</span>
<span id="cb3-3"><a href="data.html#cb3-3" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_m1524 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_m1524, tb_cleaning<span class="sc">$</span>newrel_m1524)</span>
<span id="cb3-4"><a href="data.html#cb3-4" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_m2534 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_m2534, tb_cleaning<span class="sc">$</span>newrel_m2534)</span>
<span id="cb3-5"><a href="data.html#cb3-5" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_m3544 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_m3544, tb_cleaning<span class="sc">$</span>newrel_m3544)</span>
<span id="cb3-6"><a href="data.html#cb3-6" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_m4554 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_m4554, tb_cleaning<span class="sc">$</span>newrel_m4554)</span>
<span id="cb3-7"><a href="data.html#cb3-7" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_m5564 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_m5564, tb_cleaning<span class="sc">$</span>newrel_m5564)</span>
<span id="cb3-8"><a href="data.html#cb3-8" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_m65 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_m65, tb_cleaning<span class="sc">$</span>newrel_m65)</span>
<span id="cb3-9"><a href="data.html#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="data.html#cb3-10" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_f014 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_f014, tb_cleaning<span class="sc">$</span>newrel_f014)</span>
<span id="cb3-11"><a href="data.html#cb3-11" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_f1524 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_f1524, tb_cleaning<span class="sc">$</span>newrel_f1524)</span>
<span id="cb3-12"><a href="data.html#cb3-12" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_f2534 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_f2534, tb_cleaning<span class="sc">$</span>newrel_m2534)</span>
<span id="cb3-13"><a href="data.html#cb3-13" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_f3544 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_f3544, tb_cleaning<span class="sc">$</span>newrel_m3544)</span>
<span id="cb3-14"><a href="data.html#cb3-14" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_f4554 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_f4554, tb_cleaning<span class="sc">$</span>newrel_f4554)</span>
<span id="cb3-15"><a href="data.html#cb3-15" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_f5564 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_f5564, tb_cleaning<span class="sc">$</span>newrel_f5564)</span>
<span id="cb3-16"><a href="data.html#cb3-16" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>new_sp_f65 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2012</span>, tb_cleaning<span class="sc">$</span>new_sp_f65, tb_cleaning<span class="sc">$</span>newrel_f65)</span>
<span id="cb3-17"><a href="data.html#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="data.html#cb3-18" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>hivtest <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2014</span>, tb_cleaning<span class="sc">$</span>hivtest, tb_cleaning<span class="sc">$</span>newrel_hivtest)</span>
<span id="cb3-19"><a href="data.html#cb3-19" aria-hidden="true" tabindex="-1"></a>tb_cleaning_1<span class="sc">$</span>hivtest_pos <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(tb_cleaning<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="dv">2014</span>, tb_cleaning<span class="sc">$</span>hivtest_pos, tb_cleaning<span class="sc">$</span>newrel_hivpos)</span></code></pre></div>
</div>
<div id="remove-missing-values" class="section level4 hasAnchor" number="3.2.2.3">
<h4><span class="header-section-number">3.2.2.3</span> Remove Missing Values<a href="data.html#remove-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="data.html#cb4-1" aria-hidden="true" tabindex="-1"></a>tb_cleaning_2 <span class="ot">&lt;-</span> <span class="fu">select</span>(tb_cleaning_1, country, iso3, year, new_sp, new_labconf, c_newinc, hivtest, hivtest_pos, new_sp_m014, new_sp_m1524, new_sp_m2534, new_sp_m3544, new_sp_m4554, new_sp_m5564, new_sp_m65, new_sp_f014, new_sp_f1524, new_sp_f2534, new_sp_f3544, new_sp_f4554, new_sp_f5564, new_sp_f65)</span>
<span id="cb4-2"><a href="data.html#cb4-2" aria-hidden="true" tabindex="-1"></a>tb_cleaning_3 <span class="ot">&lt;-</span> <span class="fu">subset</span>(tb_cleaning_2, <span class="fu">is.na</span>(c_newinc) <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb4-3"><a href="data.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tb_cleaning_3)</span></code></pre></div>
<pre><code>##       country iso3 year new_sp new_labconf c_newinc hivtest hivtest_pos new_sp_m014 new_sp_m1524 new_sp_m2534 new_sp_m3544 new_sp_m4554 new_sp_m5564 new_sp_m65
## 1 Afghanistan  AFG 1980     NA          NA    71685      NA          NA          NA           NA           NA           NA           NA           NA         NA
## 2 Afghanistan  AFG 1981     NA          NA    71554      NA          NA          NA           NA           NA           NA           NA           NA         NA
## 3 Afghanistan  AFG 1982     NA          NA    41752      NA          NA          NA           NA           NA           NA           NA           NA         NA
## 4 Afghanistan  AFG 1983     NA          NA    52502      NA          NA          NA           NA           NA           NA           NA           NA         NA
## 5 Afghanistan  AFG 1984     NA          NA    18784      NA          NA          NA           NA           NA           NA           NA           NA         NA
## 6 Afghanistan  AFG 1985     NA          NA    10742      NA          NA          NA           NA           NA           NA           NA           NA         NA
##   new_sp_f014 new_sp_f1524 new_sp_f2534 new_sp_f3544 new_sp_f4554 new_sp_f5564 new_sp_f65
## 1          NA           NA           NA           NA           NA           NA         NA
## 2          NA           NA           NA           NA           NA           NA         NA
## 3          NA           NA           NA           NA           NA           NA         NA
## 4          NA           NA           NA           NA           NA           NA         NA
## 5          NA           NA           NA           NA           NA           NA         NA
## 6          NA           NA           NA           NA           NA           NA         NA</code></pre>
</div>
</div>
<div id="vaccination-dataset-2" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Vaccination Dataset<a href="data.html#vaccination-dataset-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="import-data" class="section level4 hasAnchor" number="3.2.3.1">
<h4><span class="header-section-number">3.2.3.1</span> Import Data<a href="data.html#import-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="data.html#cb6-1" aria-hidden="true" tabindex="-1"></a>vaccine <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="at">path =</span> <span class="st">&quot;../vaccine.xlsx&quot;</span>)</span>
<span id="cb6-2"><a href="data.html#cb6-2" aria-hidden="true" tabindex="-1"></a>vaccine_cleaned <span class="ot">&lt;-</span> (vaccine <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">34</span>))</span>
<span id="cb6-3"><a href="data.html#cb6-3" aria-hidden="true" tabindex="-1"></a>vaccine_cleaned <span class="ot">&lt;-</span> <span class="fu">subset</span>(vaccine_temp, <span class="at">select =</span> <span class="sc">-</span><span class="fu">c</span>(unicef_region,vaccine))</span>
<span id="cb6-4"><a href="data.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(vaccine_cleaned)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 32
##   iso3  country `2021` `2020` `2019` `2018` `2017` `2016` `2015` `2014` `2013` `2012` `2011` `2010` `2009` `2008` `2007` `2006` `2005` `2004` `2003` `2002` `2001`
##   &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 AFG   Afghan…     84     87     86     89     84     78     76     74     72     78     71     68     64     66     60     60     57     51     44     46     43
## 2 ALB   Albania     99     98     99     99     99     99     99     99     99     96     97     99     97     99     98     97     98     97     95     94     93
## 3 DZA   Algeria     99     99     99     99     99     99     99     99     99     99     99     99     99     99     99     99     98     98     98     98     97
## 4 AGO   Angola      56     58     69     72     69     40     64     72     71     73     74     79     70     73     75     54     51     63     54     76     70
## 5 ARG   Argent…     81     75     85     93     95     92     96     99     99     99     99     99     99     99     99     99     99     99     99     95     92
## 6 ARM   Armenia     98     99     99     99     99     99     99     99     99     96     96     95     99     98     94     91     94     96     92     97     96
## # … with 9 more variables: `2000` &lt;dbl&gt;, `1999` &lt;dbl&gt;, `1998` &lt;dbl&gt;, `1997` &lt;dbl&gt;, `1996` &lt;dbl&gt;, `1995` &lt;dbl&gt;, `1994` &lt;dbl&gt;, `1993` &lt;dbl&gt;, `1992` &lt;dbl&gt;</code></pre>
</div>
<div id="transform-to-clean-data" class="section level4 hasAnchor" number="3.2.3.2">
<h4><span class="header-section-number">3.2.3.2</span> Transform to Clean Data<a href="data.html#transform-to-clean-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data.html#cb8-1" aria-hidden="true" tabindex="-1"></a>vaccine_pivoted <span class="ot">&lt;-</span> vaccine_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="data.html#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&#39;iso3&#39;</span>,<span class="st">&#39;country&#39;</span>),</span>
<span id="cb8-3"><a href="data.html#cb8-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&#39;year&#39;</span>,</span>
<span id="cb8-4"><a href="data.html#cb8-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&#39;vaccination_rate&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="data.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">substr</span>(year, <span class="dv">1</span>, <span class="dv">5</span>))</span>
<span id="cb8-6"><a href="data.html#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="data.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(vaccine_pivoted)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 4
##   iso3  country     year  vaccination_rate
##   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt;
## 1 AFG   Afghanistan 2021                84
## 2 AFG   Afghanistan 2020                87
## 3 AFG   Afghanistan 2019                86
## 4 AFG   Afghanistan 2018                89
## 5 AFG   Afghanistan 2017                84
## 6 AFG   Afghanistan 2016                78</code></pre>
</div>
</div>
<div id="population" class="section level3 hasAnchor" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Population<a href="data.html#population" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="import-and-trandorm-to-clean-data" class="section level4 hasAnchor" number="3.2.4.1">
<h4><span class="header-section-number">3.2.4.1</span> Import and Trandorm to Clean Data<a href="data.html#import-and-trandorm-to-clean-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data.html#cb10-1" aria-hidden="true" tabindex="-1"></a>df_population <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;../Datasets/population.csv&quot;</span>)</span>
<span id="cb10-2"><a href="data.html#cb10-2" aria-hidden="true" tabindex="-1"></a>df_population_1 <span class="ot">&lt;-</span> df_population <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="data.html#cb10-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">25</span><span class="sc">:</span><span class="dv">66</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="data.html#cb10-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&#39;Country.Name&#39;</span>, <span class="st">&#39;Country.Code&#39;</span>),</span>
<span id="cb10-5"><a href="data.html#cb10-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">names_to =</span> <span class="st">&#39;year&#39;</span>,</span>
<span id="cb10-6"><a href="data.html#cb10-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values_to =</span> <span class="st">&#39;population&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="data.html#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">substr</span>(year, <span class="dv">2</span>, <span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="data.html#cb10-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rename</span>(<span class="at">country =</span> Country.Name, </span>
<span id="cb10-9"><a href="data.html#cb10-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">iso3 =</span> Country.Code)</span>
<span id="cb10-10"><a href="data.html#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_population_1)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##   iso3  year  population
##   &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
## 1 ABW   1980       60097
## 2 ABW   1981       60561
## 3 ABW   1982       61341
## 4 ABW   1983       62213
## 5 ABW   1984       62826
## 6 ABW   1985       63024</code></pre>
</div>
<div id="merged-with-tb-dataset" class="section level4 hasAnchor" number="3.2.4.2">
<h4><span class="header-section-number">3.2.4.2</span> Merged with TB Dataset<a href="data.html#merged-with-tb-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data.html#cb12-1" aria-hidden="true" tabindex="-1"></a>df_tb_cleaning <span class="ot">&lt;-</span> <span class="fu">merge</span>(df_population_1, tb_cleaning_3, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&#39;iso3&#39;</span>, <span class="st">&#39;year&#39;</span>))</span>
<span id="cb12-2"><a href="data.html#cb12-2" aria-hidden="true" tabindex="-1"></a>df_continent <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Datasets/raw/continents2.csv&quot;</span>)</span>
<span id="cb12-3"><a href="data.html#cb12-3" aria-hidden="true" tabindex="-1"></a>df_continent_1 <span class="ot">&lt;-</span> df_continent <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="data.html#cb12-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">select</span>(alpha<span class="fl">.3</span>, region) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="data.html#cb12-5" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">rename</span>(<span class="at">iso3 =</span> alpha<span class="fl">.3</span>, <span class="at">continent =</span> region)</span>
<span id="cb12-6"><a href="data.html#cb12-6" aria-hidden="true" tabindex="-1"></a>df_tb_cleaning_1 <span class="ot">&lt;-</span> <span class="fu">merge</span>(df_continent_1, df_tb_cleaning, <span class="at">by =</span> <span class="st">&#39;iso3&#39;</span>)</span>
<span id="cb12-7"><a href="data.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_tb_cleaning_1)</span></code></pre></div>
<pre><code>##   iso3 continent year population country new_sp new_labconf c_newinc hivtest hivtest_pos new_sp_m014 new_sp_m1524 new_sp_m2534 new_sp_m3544 new_sp_m4554
## 1  ABW  Americas 2012     102565   Aruba      6           6       28       1           1          NA           NA           NA            2            3
## 2  ABW  Americas 2013     103165   Aruba     NA           2       11      NA          NA          NA           NA           NA            2            1
## 3  ABW  Americas 2010     101665   Aruba      4           6        6      NA          NA          NA           NA           NA           NA           NA
## 4  ABW  Americas 2011     102050   Aruba      7           7        8      NA          NA          NA           NA           NA           NA            4
## 5  ABW  Americas 2017     105361   Aruba     NA           2        8      NA           0           0            0            0            1            1
## 6  ABW  Americas 2018     105846   Aruba     NA           5        5      NA          NA           0            0            0            0            2
##   new_sp_m5564 new_sp_m65 new_sp_f014 new_sp_f1524 new_sp_f2534 new_sp_f3544 new_sp_f4554 new_sp_f5564 new_sp_f65
## 1           NA         NA           1            4           NA            2            1           NA          1
## 2            2         NA          NA            1           NA            2            1            2          2
## 3           NA         NA          NA           NA           NA           NA           NA           NA         NA
## 4           NA          1          NA           NA            1           NA           NA           NA          1
## 5            0          1           0            1            0            1            2            0          1
## 6            2          0           0            0            0            0            0            1          0</code></pre>
</div>
<div id="merged-with-vaccine-dataset" class="section level4 hasAnchor" number="3.2.4.3">
<h4><span class="header-section-number">3.2.4.3</span> Merged with Vaccine Dataset<a href="data.html#merged-with-vaccine-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data.html#cb14-1" aria-hidden="true" tabindex="-1"></a>vaccine_population <span class="ot">&lt;-</span> <span class="fu">merge</span>(vaccine_pivoted, df_population_1, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&#39;iso3&#39;</span>,<span class="st">&#39;year&#39;</span>,<span class="st">&#39;country&#39;</span>))</span>
<span id="cb14-2"><a href="data.html#cb14-2" aria-hidden="true" tabindex="-1"></a>vaccine_population_geo <span class="ot">&lt;-</span> <span class="fu">merge</span>(df_continent_1, vaccine_population, <span class="at">by=</span><span class="st">&#39;iso3&#39;</span>)</span>
<span id="cb14-3"><a href="data.html#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(vaccine_population_geo, <span class="st">&quot;Datasets/cleaned/vaccine_population_geo.csv&quot;</span>)</span>
<span id="cb14-4"><a href="data.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(vaccine_population_geo)</span></code></pre></div>
<pre><code>##   iso3 continent year     country vaccination_rate population
## 1  AFG      Asia 1992 Afghanistan               19   14485543
## 2  AFG      Asia 1993 Afghanistan               17   15816601
## 3  AFG      Asia 1994 Afghanistan               15   17075728
## 4  AFG      Asia 1995 Afghanistan               31   18110662
## 5  AFG      Asia 1996 Afghanistan               47   18853444
## 6  AFG      Asia 1997 Afghanistan               43   19357126</code></pre>
</div>
</div>
<div id="hiv-infections" class="section level3 hasAnchor" number="3.2.5">
<h3><span class="header-section-number">3.2.5</span> HIV Infections<a href="data.html#hiv-infections" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="read-dataset-and-mmrge-with-tb-dataset" class="section level4 hasAnchor" number="3.2.5.1">
<h4><span class="header-section-number">3.2.5.1</span> Read Dataset and mMrge with TB Dataset<a href="data.html#read-dataset-and-mmrge-with-tb-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data.html#cb16-1" aria-hidden="true" tabindex="-1"></a>df_hiv <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;../Datasets/number-of-people-living-with-hiv.csv&quot;</span>)</span>
<span id="cb16-2"><a href="data.html#cb16-2" aria-hidden="true" tabindex="-1"></a>df_hiv_1 <span class="ot">&lt;-</span> df_hiv <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="data.html#cb16-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="data.html#cb16-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rename</span>(<span class="at">iso3 =</span> Code,</span>
<span id="cb16-5"><a href="data.html#cb16-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">year =</span> Year,</span>
<span id="cb16-6"><a href="data.html#cb16-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">hiv_num =</span> Prevalence...HIV.AIDS...Sex..Both...Age..All.Ages..Number.)</span>
<span id="cb16-7"><a href="data.html#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="data.html#cb16-8" aria-hidden="true" tabindex="-1"></a>df_tb_cleaning_2 <span class="ot">&lt;-</span> <span class="fu">merge</span>(df_tb_cleaning_1, df_hiv_1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&#39;iso3&#39;</span>, <span class="st">&#39;year&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="data.html#cb16-9" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">mutate</span>(<span class="at">tb_infection_rate =</span> c_newinc<span class="sc">/</span>population,</span>
<span id="cb16-10"><a href="data.html#cb16-10" aria-hidden="true" tabindex="-1"></a>                           <span class="at">hiv_tb_infection_rate =</span> hivtest_pos<span class="sc">/</span>hiv_num)</span></code></pre></div>
<pre><code>##   iso3 year continent population     country new_sp new_labconf c_newinc hivtest hivtest_pos new_sp_m014 new_sp_m1524 new_sp_m2534 new_sp_m3544 new_sp_m4554
## 1  AFG 1990      Asia   12412311 Afghanistan     NA          NA     4332      NA          NA          NA           NA           NA           NA           NA
## 2  AFG 1991      Asia   13299016 Afghanistan     NA          NA    23067      NA          NA          NA           NA           NA           NA           NA
## 3  AFG 1997      Asia   19357126 Afghanistan    618          NA     1290      NA          NA           0           10            6            3            5
## 4  AFG 1998      Asia   19737770 Afghanistan   1833          NA     3084      NA          NA          30          129          128           90           89
## 5  AFG 1999      Asia   20170847 Afghanistan   1669          NA     3314      NA          NA           8           55           55           47           34
## 6  AFG 2000      Asia   20779957 Afghanistan   2892          NA     7107      NA          NA          52          228          183          149          129
##   new_sp_m5564 new_sp_m65 new_sp_f014 new_sp_f1524 new_sp_f2534 new_sp_f3544 new_sp_f4554 new_sp_f5564 new_sp_f65 hiv_num tb_infection_rate hiv_tb_infection_rate
## 1           NA         NA          NA           NA           NA           NA           NA           NA         NA     418      3.490083e-04                    NA
## 2           NA         NA          NA           NA           NA           NA           NA           NA         NA     495      1.734489e-03                    NA
## 3            2          0           5           38           36           14            8            0          1     959      6.664212e-05                    NA
## 4           64         41          45          350          419          194          118           61         20     998      1.562487e-04                    NA
## 5           21          8          25          139          160          110           50           25          8    1024      1.642965e-04                    NA
## 6           94         80          93          414          565          339          205           99         36    1062      3.420123e-04                    NA</code></pre>
</div>
</div>
</div>
<div id="missing-patttern" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Missing Patttern<a href="data.html#missing-patttern" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="tb-notification-and-outcome-dataset-1" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> TB Notification and Outcome Dataset<a href="data.html#tb-notification-and-outcome-dataset-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="before-cleaning" class="section level4 hasAnchor" number="3.3.1.1">
<h4><span class="header-section-number">3.3.1.1</span> Before Cleaning<a href="data.html#before-cleaning" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(tb_cleaning))</span></code></pre></div>
<pre><code>##        country           iso3           year         new_sp    new_labconf       c_newinc newrel_hivtest  newrel_hivpos        hivtest    hivtest_pos 
##              0              0              0           5020           4843            542           7615           7619           6876           6905 
##    new_sp_m014   new_sp_m1524   new_sp_m2534   new_sp_m3544   new_sp_m4554   new_sp_m5564     new_sp_m65    newrel_m014   newrel_m1524   newrel_m2534 
##           5754           5718           5721           5708           5704           5709           5718           7143           7179           7175 
##   newrel_m3544   newrel_m4554   newrel_m5564     newrel_m65    new_sp_f014   new_sp_f1524   new_sp_f2534   new_sp_f3544   new_sp_f4554   new_sp_f5564 
##           7174           7173           7173           7176           5752           5732           5726           5727           5722           5731 
##     new_sp_f65    newrel_f014   newrel_f1524   newrel_f2534   newrel_f3544   newrel_f4554   newrel_f5564     newrel_f65 
##           5729           7147           7178           7174           7174           7175           7177           7179</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(tb_cleaning)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-17-1.png" width="672" />
&gt;&gt; There are missing value for almost all variables except new incidence number. For some columns, such as ‘new_sp_m014’ and ‘newrel_m014’, the first one is record the number until 2012, and latter one record number after 2012. So we can combine these two and reduce missing values.</p>
</div>
<div id="after-cleaning" class="section level4 hasAnchor" number="3.3.1.2">
<h4><span class="header-section-number">3.3.1.2</span> After Cleaning<a href="data.html#after-cleaning" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(tb_cleaning_3))</span></code></pre></div>
<pre><code>##      country         iso3         year       new_sp  new_labconf     c_newinc      hivtest  hivtest_pos  new_sp_m014 new_sp_m1524 new_sp_m2534 new_sp_m3544 
##            0            0            0         4478         4301            0         5068         5101         3433         3433         3432         3418 
## new_sp_m4554 new_sp_m5564   new_sp_m65  new_sp_f014 new_sp_f1524 new_sp_f2534 new_sp_f3544 new_sp_f4554 new_sp_f5564   new_sp_f65 
##         3413         3419         3430         3435         3446         3437         3437         3433         3444         3444</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(tb_cleaning_3)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<blockquote>
<blockquote>
<p>After data cleaning and combining associated columns, the row missing reduced about 25%.</p>
</blockquote>
</blockquote>
</div>
</div>
<div id="vaccination-dataset-3" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Vaccination Dataset<a href="data.html#vaccination-dataset-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="missing-pattern-before-cleaning" class="section level4 hasAnchor" number="3.3.2.1">
<h4><span class="header-section-number">3.3.2.1</span> Missing Pattern Before Cleaning<a href="data.html#missing-pattern-before-cleaning" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(vaccine))</span></code></pre></div>
<pre><code>## unicef_region          iso3       country       vaccine          2021          2020          2019          2018          2017          2016          2015 
##             0             0             0             0            11            11            11            11            11            11            10 
##          2014          2013          2012          2011          2010          2009          2008          2007          2006          2005          2004 
##            10            10             8             8             9             8             8             7             7             9             8 
##          2003          2002          2001          2000          1999          1998          1997          1996          1995          1994          1993 
##             8             8            10            10            10            12            12            11            11            10            11 
##          1992          1991          1990          1989          1988          1987          1986          1985          1984          1983          1982 
##            15            33            34            34            35            37            37            39            44            52            58 
##          1981          1980 
##            64            90</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(vaccine)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<blockquote>
<blockquote>
<p>From the plot, the most missing values occurs before 1992.</p>
</blockquote>
</blockquote>
</div>
<div id="missing-pattern-after-cleaning" class="section level4 hasAnchor" number="3.3.2.2">
<h4><span class="header-section-number">3.3.2.2</span> Missing Pattern After Cleaning<a href="data.html#missing-pattern-after-cleaning" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(vaccine_cleaned))</span></code></pre></div>
<pre><code>##    iso3 country    2021    2020    2019    2018    2017    2016    2015    2014    2013    2012    2011    2010    2009    2008    2007    2006    2005    2004 
##       0       0      11      11      11      11      11      11      10      10      10       8       8       9       8       8       7       7       9       8 
##    2003    2002    2001    2000    1999    1998    1997    1996    1995    1994    1993    1992 
##       8       8      10      10      10      12      12      11      11      10      11      15</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(vaccine)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-23-1.png" width="672" />
&gt;&gt; After dropping years before 1992, the complete cases increased more than 25%.</p>
</div>
</div>
<div id="population-1" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Population<a href="data.html#population-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(df_population_1))</span></code></pre></div>
<pre><code>##       iso3       year population 
##          0          0         65</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="data.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(df_population_1)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-25-1.png" width="672" />
&gt;&gt; From the plot, the population are almost all complete cases.</p>
</div>
<div id="hiv-infections-1" class="section level3 hasAnchor" number="3.3.4">
<h3><span class="header-section-number">3.3.4</span> HIV infections<a href="data.html#hiv-infections-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="data.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(df_hiv))</span></code></pre></div>
<pre><code>##                                                     Entity                                                       Code 
##                                                          0                                                          0 
##                                                       Year Prevalence...HIV.AIDS...Sex..Both...Age..All.Ages..Number. 
##                                                          0                                                          0</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="data.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(df_hiv)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<blockquote>
<blockquote>
<p>The HIV data set are all complete cases.</p>
</blockquote>
</blockquote>
</div>
</div>
<div id="missing-value-analysis" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Missing Value Analysis<a href="data.html#missing-value-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>There are 4 data sets total - the TB data set, Vaccine data set, Population data set, and HIV data set. The Population and HIV data set almost have no missing value. However, the TB data set and Vaccine have plenty missing value and data set layout is messy which need to drop columns and pivot the table of the data sets.</li>
<li>For TB data set, there are lots of country didn’t report the TB cases for different age group, it is possible because some country may not have the ability to count cases in the early years. For some country, they adapted new detection technology after 2012; therefore, we havet to combine the columns to get the overall cases statistics for all age group.</li>
<li>For Vaccine data set, some countries not require the public take TB vaccine like U.S. and Canada, and some countries requires public take TB vaccine for infant. Hence, it is reasonable that there will have some missing value for some country. Some country start to mass inoculations since 1992, we can focus on the years between 1992 to 2021.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="proposal.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="results.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yichuang25/EDAV-Final-Project-9/edit/main/data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/yichuang25/EDAV-Final-Project-9/blob/main/data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
